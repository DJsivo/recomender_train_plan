# Инструкции по тестированию

## Этап 1. Проверка установки и базового запуска

**Цель:** Убедиться, что окружение настроено правильно и приложение запускается.

### Шаги

1. Установить Python 3.11.
2. Открыть терминал/PowerShell в корневой папке проекта.
3. (Опционально, но рекомендуется) создать и активировать виртуальное окружение:

   ```bash
   python -m venv .venv
   .venv\Scripts\activate
   ```

4. Установить зависимости:

   ```bash
   pip install -r requirements.txt
   ```

5. Запустить приложение:

   ```bash
   python -m app.main
   ```

### Ожидаемый результат

- Открывается окно с заголовком «Рекомендательная система тренировок».
- В центре окна отображается текст-заглушка о том, что приложение инициализировано и дальше будут добавлены форма профиля и визуализация.
- Ошибок и стек-трейсов в терминале нет.

По мере разработки в этот файл будут добавляться новые разделы:

## Этап 2. Тестирование формы профиля пользователя

**Цель:** Проверить корректность ввода данных, валидации и сохранения профиля.

### Шаги

1. Запустить приложение:

   ```bash
   python -m app.main
   ```

2. Убедиться, что в главном окне отображается вкладка «Профиль».
3. Заполнить поля:
   - Пол.
   - Возраст (целое число в годах).
   - Вес (число в кг, можно с запятой или точкой).
   - При желании — рост (см).
   - Уровень физической активности.
   - Цель тренировок.
   - Опыт тренировок.
   - Формат тренировок (дом/зал/не важно).
   - Отметить доступное оборудование (если есть).
   - Отметить ограничения по здоровью (чекбоксы) и, при необходимости, дописать свои в поле «Другие ограничения».

4. Нажать кнопку «Сохранить профиль».

### Ожидаемый результат

- При корректно заполненных полях выводится сообщение «Данные профиля успешно сохранены».
- Под кнопкой отображается статус «Профиль сохранён.».
- В папке `app/data` создаётся файл `user_profile.json` с сохранёнными данными.

### Проверка валидации (некорректный ввод)

1. Оставить возраст пустым или ввести некорректное значение (например, текст вместо числа) и нажать «Сохранить профиль».
   - Ожидаемо появится предупреждающее окно с текстом вроде «Введите возраст в формате целого числа».

2. Ввести вес `0` или оставить поле пустым и нажать «Сохранить профиль».
   - Ожидаемо появится предупреждение «Вес должен быть больше 0 кг» или «Введите вес в формате числа (кг)».

3. Ввести рост `0` или текст и нажать «Сохранить профиль».
   - Ожидаемо появится предупреждение о некорректном формате роста.

4. При любой ошибке валидации профиль не сохраняется, файл `user_profile.json` не обновляется.

В последующих разделах будут описаны:

## Этап 3. Тестирование генерации плана тренировок

**Цель:** Проверить, что по сохранённому профилю корректно генерируется план тренировок, учитывающий цель, уровень подготовки и ограничения по здоровью.

### Шаги

1. Убедиться, что профиль пользователя сохранён (см. Этап 2). В папке `app/data` должен быть файл `user_profile.json`.
2. Запустить приложение:

   ```bash
   python -m app.main
   ```

3. Перейти на вкладку «План тренировок».
4. Нажать кнопку «Сгенерировать план».

### Ожидаемый результат

- Появляется сообщение об успешной генерации плана.
- В поле статуса отображается текст «План тренировок сгенерирован и сохранён.».
- Комбобокс «Неделя» заполняется значениями от 1 до N (N — длительность программы в неделях).
- В таблице отображаются строки с тренировочными днями выбранной недели: колонка «День», название тренировки и список упражнений с указанием подходов/повторений или длительности.
- В папке `app/data` создаётся файл `training_plan.json`.

### Тестовые профили и проверки

1. **Новичок, избыточный вес, цель — похудение**:
   - Пол: любой.
   - Возраст: 25–40.
   - Вес: значительно больше среднего (например, 100 кг при росте 170 см).
   - Уровень активности: Низкий.
   - Цель: Похудение.
   - Опыт: Новичок.
   - Ограничения: можно отметить «Ожирение / избыточный вес».

   Ожидаемо:
   - Частота тренировок в пределах 2–3 занятий в неделю.
   - В плане не встречаются упражнения с высокой ударной нагрузкой, противопоказанные при ожирении (например, берпи, прыжки).

2. **Молодой, активный, цель — набор массы**:
   - Возраст: 20–30.
   - Уровень активности: Средний или Высокий.
   - Цель: Набор мышечной массы.
   - Опыт: Продолжающий или Продвинутый.
   - Формат: Спортзал, отметить наличие оборудования.
   - Ограничения: не отмечать серьёзных проблем по здоровью.

   Ожидаемо:
   - Частота тренировок 3–5 раз в неделю.
   - В плане преобладают силовые упражнения на основные группы мышц.

3. **Пользователь с проблемами спины, цель — укрепление спины**:
   - Цель: Укрепление спины.
   - Опыт: Новичок или Продолжающий.
   - Ограничения: отметить «Проблемы со спиной».

   Ожидаемо:
   - В тренировках больше упражнений на кор и мышцы спины с реабилитационным и мягким характером.
   - В плане не появляются упражнения, явно противопоказанные при проблемах со спиной.

При необходимости можно открыть `training_plan.json` и убедиться, что:

- значение `sessions_per_week` находится в диапазоне от 1 до 5,
- значение `total_weeks` — от 4 до 12,
- ни одно упражнение не противоречит указанным ограничениям по здоровью (с учётом каталога `exercises.json`).

В следующих разделах будут описаны:

- проверка пересчёта при изменении параметров,
- проверка сохранения/загрузки плана.

## Этап 4. Тестирование визуализации плана тренировок

**Цель:** Убедиться, что график «недели vs. тренировки» корректно отражает структуру плана и обновляется после пересчёта.

### Шаги

1. Убедиться, что план тренировок уже сгенерирован (см. Этап 3). В папке `app/data` должен быть файл `training_plan.json`.
2. Запустить приложение:

   ```bash
   python -m app.main
   ```

3. Перейти на вкладку «График».
4. Нажать кнопку «Обновить график».

### Ожидаемый результат

- На графике отображаются столбики по неделям: по оси X — номера недель, по оси Y — количество тренировок в каждой неделе.
- Под графиком отображается статус с указанием общего количества недель и тренировок в неделю.
- Если план ещё не сгенерирован, выводится сообщение в статусе и пустой график с надписью «Нет данных для отображения».

### Проверка обновления после изменения профиля

1. Вернуться на вкладку «Профиль», изменить параметры (например, цель с «Похудение» на «Набор мышечной массы» или уровень активности/опыт).
2. Сохранить профиль.
3. Перейти на вкладку «План тренировок» и снова нажать «Сгенерировать план».
4. Вернуться на вкладку «График» и нажать «Обновить график».

Ожидаемо:

- общая длительность программы и/или количество тренировок в неделю могут измениться,
- график обновится и будет отражать новую структуру плана.
